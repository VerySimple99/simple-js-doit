<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      console.log("1. 시작");
      /* setTimeout()뿐만 아니라, fetch() 같은 네트워크 요청도 같은 원리로 동작합니다
      ✅ then()은 Promise가 "이행(Resolved)" 상태가 되었을 때 실행됩니다.
      ✅ 즉, Promise가 성공적으로 완료되면(fulfilled) then() 내부 코드가 실행됩니다.
      ✅ 반면, Promise가 실패하면(rejected) then()이 실행되지 않고 catch()로 넘어갑니다.
      */
      fetch("https://jsonplaceholder.typicode.com/todos/1")
        .then((response) => {
          console.log("2. 📦 응답을 받았습니다!", response);
          return response.json();
        })
        .then((data) => {
          console.log("3. 📖 데이터를 변환했습니다!", data);
        })
        .catch((error) => {
          console.error("2. ❌ 요청 실패!", error);
        });

      console.log("4. 끝");
    </script>
  </body>
</html>
